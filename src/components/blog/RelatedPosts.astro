---
interface RelatedPost {
  slug: string;
  title: string;
  excerpt: string;
}

interface Props {
  posts: RelatedPost[];
}

const { posts } = Astro.props;

if (!posts || posts.length === 0) {
  return null;
}
---

<section aria-label="Related articles" class="mt-16 pt-8 border-t border-border">
  <h2 class="text-2xl font-display font-bold mb-6">
    You might also like
  </h2>
  <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
    {posts.map((post) => (
      <a href={`/blog/${post.slug}`} class="related-post-card">
        <div class="h-full rounded-lg border border-border bg-card text-card-foreground shadow-sm transition-colors hover:border-primary/50 group">
          <div class="flex flex-col space-y-1.5 p-6">
            <h3 class="text-lg font-semibold leading-none tracking-tight line-clamp-2 group-hover:text-primary transition-colors">
              {post.title}
            </h3>
            <p class="text-sm text-muted-foreground line-clamp-2">
              {post.excerpt}
            </p>
          </div>
        </div>
      </a>
    ))}
  </div>
</section>

<style>
  .related-post-card {
    text-decoration: none;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
