import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.BfkTPTwy.js";function w({readingTime:c}){const[t,a]=i.useState(0),[l,d]=i.useState(!1);i.useEffect(()=>{const s=document.querySelector("article");if(!s)return;const o=()=>{const u=s.offsetTop,f=s.offsetHeight,x=window.scrollY-u,h=Math.min(Math.max(x/f*100,0),100);a(h),d(window.scrollY>200)};return window.addEventListener("scroll",o,{passive:!0}),o(),()=>window.removeEventListener("scroll",o)},[]);const n=Math.ceil(c*(1-t/100)),r=2*Math.PI*18,m=r-t/100*r;return l?e.jsxs("div",{className:"fixed bottom-8 right-8 z-50 flex items-center gap-3 bg-card/90 backdrop-blur-sm rounded-full px-4 py-2 shadow-lg border border-border",children:[e.jsxs("svg",{width:"44",height:"44",className:"-rotate-90",children:[e.jsx("circle",{cx:"22",cy:"22",r:"18",fill:"none",stroke:"currentColor",strokeWidth:"3",className:"text-muted"}),e.jsx("circle",{cx:"22",cy:"22",r:"18",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:r,strokeDashoffset:m,strokeLinecap:"round",className:"text-primary transition-all duration-300"})]}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:[Math.round(t),"%"]}),e.jsx("div",{className:"text-muted-foreground text-xs",children:n>0?`${n} min left`:"Done!"})]})]}):null}export{w as ReadingProgress};
